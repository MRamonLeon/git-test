node() {
    dir('first') {
        def vars = checkout scm
        dumpEnv('first', vars)
    }

    dir('second') {
        def vars = git url: 'git@github.com:MRamonLeon/git-test.git', branch: 'other'
        dumpEnv('second', vars)
    }

    dir('third') {
        def vars = checkout scm
        dumpEnv('third', vars)
    }
}

def dumpEnv(String prefix, Map env) {
    env.each { key, value -> echo("${prefix}: '${key}' = '${value}'") }
}